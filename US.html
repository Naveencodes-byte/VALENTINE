<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Peter & Gwen Valentine</title>
<style>
  body {
    margin: 0;
    font-family: 'Arial', sans-serif;
    text-align: center;
    background: linear-gradient(to bottom, #ffafbd, #ffc3a0);
    overflow: hidden;
    height: 100vh;
    color: white;
    position: relative;
  }

  h1 {
    margin-top: 50px;
    font-size: 32px;
  }

  .btn {
    padding: 15px 30px;
    font-size: 20px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    color: white;
    position: absolute;
    transition: transform 0.2s, font-size 0.2s;
  }

  #yesBtn { background: #e91e63; z-index: 2; }
  #noBtn { background: #9c27b0; z-index: 1; }

  #messageBox {
    font-size: 26px;
    margin-top: 50px;
    display: block;
    position: relative;
    min-height: 40px;
    top: 200px;
  }

  .heart {
    position: absolute;
    font-size: 24px;
    animation: floatUp linear infinite;
    opacity: 0.8;
    pointer-events: none;
  }

  @keyframes floatUp {
    0% { transform: translateY(0) scale(1); opacity: 0.8; }
    100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
  }
</style>
</head>
<body>

<h1>Will you be my Valentine? ðŸ‘€</h1>

<button class="btn" id="noBtn">No ðŸ˜¢</button>
<button class="btn" id="yesBtn">Yes!</button>

<div id="messageBox"></div>

<audio id="bg-music" loop>
  <source src="romantic.mp3" type="audio/mpeg">
</audio>

<script>
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const messageBox = document.getElementById('messageBox');
const audio = document.getElementById('bg-music');

const noMessages = [
  "Oh come on ðŸ˜",
  "Baby girl is growing wings now ðŸ‘©ðŸ½â€ðŸ¦¯âž¡ï¸",
  "Acting as if we arenâ€™t meant for each other ðŸ¤·ðŸ½",
  "Wow so you still havenâ€™t said yes ðŸ˜­ðŸ˜”",
  "At this point, you hate me ðŸ¤§ðŸ¥²"
];

let tappedNo = false;
let noIndex = 0;

// Position Yes over No initially
function positionYesOverNo() {
  const noRect = noBtn.getBoundingClientRect();
  yesBtn.style.left = noRect.left + 'px';
  yesBtn.style.top = noRect.top + 'px';
}
window.onload = positionYesOverNo;
window.onresize = positionYesOverNo;

// Spawn hearts
function spawnHeart(x, y){
  const heart = document.createElement('div');
  heart.className = 'heart';
  heart.style.left = x + 'px';
  heart.style.top = y + 'px';
  heart.style.fontSize = 20 + Math.random()*30 + 'px';
  heart.style.color = ['#ff0000','#ff69b4','#ff1493','#ffc3a0'][Math.floor(Math.random()*4)];
  heart.textContent = 'â¤ï¸';
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(), 4000 + Math.random()*1500);
}

// No button click
noBtn.addEventListener('click', ()=>{
  tappedNo = true;
  if(noIndex < noMessages.length){
    messageBox.textContent = noMessages[noIndex];
    noIndex++;
  }
  const currentScale = yesBtn.style.transform.replace(/[^0-9.]/g,'');
  const newScale = currentScale ? parseFloat(currentScale)+0.15 : 1.15;
  yesBtn.style.transform = `scale(${newScale})`;
});

// Yes button click
yesBtn.addEventListener('click', ()=>{
  yesBtn.style.display='none';
  noBtn.style.display='none';

  // Play music
  audio.play().catch(()=>alert("Tap screen to enable music!"));

  // Final message depending on No tap
  if(tappedNo){
    messageBox.textContent = "Wow so I had to force you ðŸ’”ðŸ˜”, anyways Iâ€™ll take it";
  } else {
    messageBox.textContent = "Wow we are so interlinked â¤ï¸";
  }

  // Add playful follow-up message after 1 second
  setTimeout(()=>{
    messageBox.textContent += "\n\nTo officially accept, send me a voice note saying yes (definitely not because I think itâ€™d be nice to have ðŸ™‚)";
  },1000);

  // Continuous hearts
  setInterval(()=>{
    spawnHeart(Math.random()*window.innerWidth, window.innerHeight);
  },250);
});

// Hearts on tap anywhere
document.addEventListener('click',(e)=>{
  if(yesBtn.style.display!=='none'){
    spawnHeart(e.clientX,e.clientY);
  }
});
</script>
</body>
</html>
